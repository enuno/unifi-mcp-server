# UniFi MCP Server - Docker Compose Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# UniFi API Configuration (REQUIRED)
# =============================================================================

# Your UniFi API Key (obtain from https://unifi.ui.com)
# Navigate to: Settings → Control Plane → Integrations → Create API Key
UNIFI_API_KEY=your-api-key-here

# API Type: Choose based on your UniFi API access
# - 'cloud-v1': Official stable v1 API (https://api.ui.com/v1/...)
#               Fully stable, backward compatible, long-term support
#               Rate limit: 10,000 requests/minute
# - 'cloud-ea': Early Access API (https://api.ui.com/ea/...)
#               Testing/feedback phase, may change based on user input
#               Rate limit: 100 requests/minute
# - 'local': Direct gateway access (https://{gateway-ip}/proxy/network/...)
#            Requires local network access to UniFi gateway
UNIFI_API_TYPE=cloud-v1

# Cloud API Configuration (for cloud-v1 or cloud-ea)
UNIFI_CLOUD_API_URL=https://api.ui.com

# Local API Configuration (for local mode only)
# Uncomment these lines when using UNIFI_API_TYPE=local
# UNIFI_LOCAL_HOST=192.168.1.1
# UNIFI_LOCAL_PORT=443
# UNIFI_LOCAL_VERIFY_SSL=false

# Default site ID (optional, defaults to 'default')
# UNIFI_DEFAULT_SITE=default

# =============================================================================
# MCP Server Configuration
# =============================================================================

# MCP Server Port
MCP_SERVER_PORT=3000

# Log Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
MCP_LOG_LEVEL=INFO

# =============================================================================
# Rate Limiting (OPTIONAL)
# =============================================================================

# Early Access (EA): 100 requests/minute, v1 Stable: 10,000 requests/minute
UNIFI_RATE_LIMIT=100

# Request timeout in seconds
UNIFI_TIMEOUT=30

# Maximum retry attempts for failed requests
UNIFI_MAX_RETRIES=3

# =============================================================================
# Agnost.ai Performance Tracking (OPTIONAL)
# =============================================================================

# Enable performance tracking (true/false)
AGNOST_ENABLED=false

# Your Agnost Organization ID (obtain from https://app.agnost.ai)
# REQUIRED if AGNOST_ENABLED=true or if using MCP Toolbox
AGNOST_ORG_ID=

# Agnost API endpoint (usually no need to change)
AGNOST_ENDPOINT=https://api.agnost.ai

# Control what data is tracked
# Set to true to prevent input parameters from being tracked
AGNOST_DISABLE_INPUT=false

# Set to true to prevent output results from being tracked
AGNOST_DISABLE_OUTPUT=false

# =============================================================================
# MCP Toolbox Configuration (OPTIONAL)
# =============================================================================

# Toolbox provides analytics and monitoring dashboard for MCP servers
# Documentation: https://docs.agnost.ai/quickstart
# Container version (default: 0.14.0)
# TOOLBOX_VERSION=0.14.0

# Port for MCP Toolbox web dashboard
TOOLBOX_PORT=8080

# Service name for telemetry tracking
# TOOLBOX_SERVICE_NAME=unifi-mcp-toolbox

# =============================================================================
# Redis Cache Configuration (OPTIONAL but recommended)
# =============================================================================

# Redis host (use 'redis' for Docker Compose, 'localhost' for local)
REDIS_HOST=redis

# Redis port
REDIS_PORT=6379

# Redis database number
REDIS_DB=0

# Redis password (leave empty if no password)
REDIS_PASSWORD=

# =============================================================================
# Webhook Support (OPTIONAL)
# =============================================================================

# Secret key for webhook signature verification
WEBHOOK_SECRET=
